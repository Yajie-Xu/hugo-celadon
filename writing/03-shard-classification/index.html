<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Fragment Reassembly Algorithm | Alex Celadon</title><meta name=description content="Computational Archaeologist weaving ancient history with modern algorithms."><meta name=theme-color content="#7DA2A9" media="(prefers-color-scheme: light)"><meta name=theme-color content="#1C1C1E" media="(prefers-color-scheme: dark)"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=icon type=image/png href=/hugo-celadon/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/hugo-celadon/favicon.svg><link rel="shortcut icon" href=/hugo-celadon/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/hugo-celadon/apple-touch-icon.png><link rel=manifest href=/hugo-celadon/site.webmanifest><link rel=stylesheet href=https://Yajie-Xu.github.io/hugo-celadon/css/main.min.e5bee13bf5d8899caf86135589695fa90ca220adac39769ead09b6a1117bd52e.css integrity="sha256-5b7hO/XYiZyvhhNViWlfqQyiIK2sOXaerQm2oRF71S4="><link rel=stylesheet href=/vendor/katex/katex.min.css><script defer src=/vendor/katex/katex.min.js></script><script defer src=/vendor/katex/auto-render.min.js></script></head><body data-theme=light><div class=page-shell><nav class=morandi-nav><div class=brand><span class=dot></span>
<a href=https://Yajie-Xu.github.io/hugo-celadon/>Alex Celadon</a></div><div class=nav-links><a href=https://Yajie-Xu.github.io/hugo-celadon/>Home</a>
<a href=https://Yajie-Xu.github.io/hugo-celadon/#hero>About</a>
<a href=https://Yajie-Xu.github.io/hugo-celadon/#news>News</a>
<a href=https://Yajie-Xu.github.io/hugo-celadon/#research>Research</a>
<a href=https://Yajie-Xu.github.io/hugo-celadon/#writing>Writing</a></div><button class=theme-toggle data-theme-toggle aria-label="Toggle theme">
<span class=icon data-icon-sun>☼</span>
<span class=icon data-icon-moon>☾</span></button></nav><main class=main-container><div class=article-shell><a class=article-back href=/hugo-celadon/writing/>← Back</a><header class=article-head><p class=article-date>Sep 15, 2025</p><h1 class=article-title>Fragment Reassembly Algorithm</h1></header><article class="article-content markdown-body"><p>To match two broken shards, we calculate the curvature profile of the break edge. If $C_1$ is the curvature vector of Shard A and $C_2$ is Shard B (reversed), we minimize the Euclidean distance:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>scipy.spatial.distance</span> <span class=kn>import</span> <span class=n>euclidean</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>match_score</span><span class=p>(</span><span class=n>edge_a</span><span class=p>,</span> <span class=n>edge_b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Reverse edge_b to align orientation</span>
</span></span><span class=line><span class=cl>    <span class=n>edge_b_reversed</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>flip</span><span class=p>(</span><span class=n>edge_b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Calculate RMSE (Root Mean Square Error)</span>
</span></span><span class=line><span class=cl>    <span class=n>score</span> <span class=o>=</span> <span class=n>euclidean</span><span class=p>(</span><span class=n>edge_a</span><span class=p>,</span> <span class=n>edge_b_reversed</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>score</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Example: Perfect match approaches 0</span>
</span></span><span class=line><span class=cl><span class=n>shard_1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>shard_2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Fit Score: </span><span class=si>{</span><span class=n>match_score</span><span class=p>(</span><span class=n>shard_1</span><span class=p>,</span> <span class=n>shard_2</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></article><div class=article-nav><div><a href=/hugo-celadon/writing/02-carbon-math/>← Bayesian Calibration Logic</a></div><div style=text-align:right><a href=/hugo-celadon/writing/04-pca-analysis/>Dimensionality Reduction in Clay →</a></div></div></div></main><footer class=site-footer><div class=footer-container>&copy; 2025 Alex Celadon • Powered by
<a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &
<a href=https://github.com/Yajie-Xu/hugo-celadon target=_blank rel=noopener>Celadon</a></div></footer></div><script>(function(){const e="morandi-theme",t=document.body,n=()=>document.querySelectorAll("[data-theme-toggle]"),s=e=>{const s=e==="dark"?"dark":"light";t.setAttribute("data-theme",s),n().forEach(e=>{const t=e.querySelector("[data-icon-sun]"),n=e.querySelector("[data-icon-moon]");e.setAttribute("aria-pressed",s==="dark"),t&&(t.style.opacity=s==="dark"?"0":"1"),n&&(n.style.opacity=s==="dark"?"1":"0")})},o=localStorage.getItem(e),i=window.matchMedia("(prefers-color-scheme: dark)").matches;s(o||(i?"dark":"light")),n().forEach(n=>{n.addEventListener("click",()=>{const n=t.getAttribute("data-theme")==="dark"?"light":"dark";s(n),localStorage.setItem(e,n)})})})(),function(){const e=Array.from(document.querySelectorAll("[data-expandable]"));if(!e.length)return;e.forEach(e=>{const n=parseInt(e.dataset.limit,10),s=e.querySelector("[data-expandable-content]"),t=e.querySelector("[data-expand-toggle]");if(!s||!Number.isFinite(n))return;const o=Array.from(s.children);if(o.length<=n){t&&t.remove();return}if(!t)return;e.dataset.state="collapsed",t.setAttribute("aria-expanded","false");const i=()=>{const s=e.dataset.state==="expanded";o.forEach((e,t)=>{const o=!s&&t>=n;e.classList.toggle("hidden",o)}),t.textContent=s?"Show Less ↑":"Show More ↓",t.setAttribute("aria-expanded",s.toString())};t.addEventListener("click",()=>{e.dataset.state=e.dataset.state==="expanded"?"collapsed":"expanded",i()}),i()})}()</script><button id=scroll-top aria-label="Go to Top">↑</button>
<script>(function(){const e=()=>{typeof renderMathInElement=="function"&&renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})};window.addEventListener("load",e),document.querySelectorAll(".highlight").forEach(function(e){const o=e.querySelector("td.lntd:last-child pre code");if(!o)return;const r=Array.from(o.classList).find(e=>e.startsWith("language-")),l=r?r.replace("language-","").toUpperCase():"CODE",n=document.createElement("div");n.className="code-frame";const s=document.createElement("div");s.className="code-frame__header";const i=document.createElement("span");i.className="code-frame__lang",i.textContent=l,s.appendChild(i);const t=document.createElement("button");t.className="copy-btn",t.ariaLabel="Copy code";const c=`
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          `,d=`
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          `;t.innerHTML=c,s.appendChild(t);const a=document.createElement("div");a.className="code-frame__body",n.appendChild(s),n.appendChild(a);const u=e.parentNode;e.classList.add("code-frame__table"),u.replaceChild(n,e),a.appendChild(e),t.addEventListener("click",function(){navigator.clipboard.writeText(o.innerText).then(function(){t.classList.add("copied"),t.innerHTML=d,setTimeout(function(){t.classList.remove("copied"),t.innerHTML=c},2e3)})})})})(),function(){const e=document.getElementById("scroll-top");if(!e)return;window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.add("show-scroll"):e.classList.remove("show-scroll")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}()</script></body></html>